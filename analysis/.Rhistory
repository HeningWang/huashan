library(tidyr)
library(ggplot2)
library(gridExtra)
library(trimr)
library(stringr)
library(lme4)
rm(list=ls())
plots_dir<- file.path(getwd(),"plots")
if(!dir.exists(plots_dir)) dir.create(plots_dir, recursive = TRUE, showWarnings = FALSE)
data <- read.csv(file = "../data/huashan.csv")
subj_info <-read.csv(file = "../data/huashan_subj_info.csv")
#do stuff with subj_info here:
#...
subj_exp_condition<-subj_info[c("id","left.right")]
#head(data, n=5)
xtabs(~id, data=data)
xtabs(~id+conditions, data=data)#TODO: check
data$conditions <- droplevels(as.factor(data$conditions))
data$id <- droplevels(as.factor(data$id))
data$slider_value <- as.numeric(data$slider_value)
data <- merge(data,subj_exp_condition)
#TODO: adjust later
data$prefer_subj_1st <- ifelse(data$left.right=="S", 100-data$slider_value,data$slider_value)
aggregate(data$prefer_subj_1st, list(data$conditions), FUN = function(x){c(mean(x), sd(x)/sqrt(length(x)))) })
aggregate(data$prefer_subj_1st, list(data$conditions), FUN = function(x){c(mean(x), sd(x)/sqrt(length(x)))})
